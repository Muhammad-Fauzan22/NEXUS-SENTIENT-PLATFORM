import{i as H}from"../chunks/D4x84G1m.js";import{k as I,p as J,s as z,l as N,b as O,m as c,n as s,t as b,o as v,v as P,w as n,x as e,y as t,g as r,z as o}from"../chunks/C-vb7UTA.js";import{e as Q,i as U}from"../chunks/CQZlqHx8.js";var V=c('<p class="mt-6">Loadingâ€¦</p>'),W=c('<li class="flex items-center justify-between"><span> </span> <span class="text-xs text-foreground/70"> </span></li>'),X=c('<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"><div class="border rounded p-4"><div class="text-foreground/70 text-sm">Knowledge Chunks</div> <div class="text-2xl font-bold"> </div></div> <div class="border rounded p-4"><div class="text-foreground/70 text-sm">Skill Trends</div> <div class="text-2xl font-bold"> </div></div> <div class="border rounded p-4"><div class="text-foreground/70 text-sm">Top Skills (by velocity)</div> <ol class="mt-2 space-y-1 list-decimal list-inside"></ol></div></div>'),Y=c('<div class="p-6 max-w-5xl mx-auto"><h1 class="text-2xl font-semibold">Admin Metrics</h1> <div class="text-sm text-foreground/70"> <button class="ml-3 underline">Refresh</button></div> <!></div>');function et(A,C){J(C,!0);let x=z(!0),i=z(N({}));async function k(){n(x,!0);try{const a=await fetch("/analytics/metrics");n(i,await a.json(),!0)}catch{n(i,{},!0)}finally{n(x,!1)}}O(()=>{k()});var m=Y(),p=s(e(m),2),h=e(p),F=s(h);F.__click=k,t(p);var K=s(p,2);{var L=a=>{var l=V();v(a,l)},R=a=>{var l=X(),u=e(l),y=s(e(u),2),q=e(y,!0);t(y),t(u);var f=s(u,2),w=s(e(f),2),B=e(w,!0);t(w),t(f);var S=s(f,2),T=s(e(S),2);Q(T,21,()=>r(i).topSkills||[],U,(D,j)=>{var _=W(),g=e(_),E=e(g,!0);t(g);var M=s(g,2),G=e(M,!0);t(M),t(_),b(d=>{o(E,r(j).skill_name),o(G,d)},[()=>{var d;return(d=r(j).velocity_score)==null?void 0:d.toFixed(2)}]),v(D,_)}),t(T),t(S),t(l),b(()=>{o(q,r(i).knowledge_chunks??"-"),o(B,r(i).skill_trends??"-")}),v(a,l)};H(K,a=>{r(x)?a(L):a(R,!1)})}t(m),b(()=>o(h,`Server Time: ${r(i).serverTime||"-"} `)),v(A,m),P()}I(["click"]);export{et as component};
